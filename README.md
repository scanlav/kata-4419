# Практическая задача
1. <p>Создать классы Customer и Loyalty, в соответствии с моделью данных в customer-service API.</p>

2. <p>Реализовать автотест (как минимум, один) с передачей объекта Customer в request body.</p>

<p>Для сериализации объекта Customer необходимо подключить к проекту любой JSON serializer, например, 
jackson-databind. 
Полученный ответ сохранить в новый объект Customer с последующей валидацией полей объекта.</p>


###### Пример использования:

```Java
Customer request = new Customer("Имя клиента");



Customer created = RestAssured.given()

       .contentType(ContentType.JSON)

       .body(request)

       .when().post("/customers")

       .then().statusCode(201)

       .extract().as(Customer.class);



Assertions.assertEquals(created.getFirstName(), "Имя клиента");

```

3. <p>Подключить к проекту зависимость json-schema-validator, добавить валидацию JSON схемы в автотесты.</p>

###### Пример использования:


```Java
RestAssured.given()

       .contentType(ContentType.JSON)

       .body(request)

       .when().post("/customers")

       .then().statusCode(201)

.body(matchesJsonSchemaInClasspath("customer-schema.json"));

```

4. Добавить дополнительные автотесты по результатам обсуждения тест-дизайна на лекции.

5. Опубликовать проект на GitHub и приложить ссылку на него.




#### Brainstorming notes

###### Создание клиента:

```
201 код – создание пользователя только обязательные поля

201 код – создание пользователя все поля

номер телефона – тип данных некорректный (не строка)

имя пустое/не указано (отсутствует атрибут)

фамилия пустая/не указана (отсутствует атрибут)

строка в id

спецсимволы вместо строки, один символ (минимальная длина)

разные языки в имени/фамилии

некорректный формат емайл

имя и фамилия с пробелами (два слова)

пробел перед именем/фамилией

номер телефона в некорректном формате

не указан номер телефона/пустой (отсутствует атрибут)

Нельзя поменять номер на тот, который уже зарегистрирован

дата рождения в будущем

дата рождения – формат даты (без года, без месяца, и тд)

дата рождения – некорректный месяц (больше 12) / день (больше 31)

дата рождения – очень давно в прошлом

лояльность – отправить что-нибудь, убедится что сервис их не принимает, потому что генерация должна быть на стороне сервиса

xml в теле

добавить лишнее поле

запрос без тела]
```



###### Обновление клиента:

```

id не существует

id строка / пробел перед id или после

id отрицательный

id null / 0

Дата создания не должна меняться

Лояльность не должна меняться

Нельзя поменять номер на тот, который уже зарегистрирован
```
